---
description: 지식 구축의 기본 개념인 엔티티에 대해 알아봅니다.
---

# 엔티티

## 1. 엔티티 정의

엔티티(Entity)는 챗봇이 센텐스의 의미를 이해하기 위해 작성된 체계적인 용어의 집합입니다. 즉, 챗봇이 이해할 수 있는 용어를 정리한 데이터 사전이라 할 수 있습니다. 엔티티가 정의되면, 챗봇은 사용자 질의로부터 사용자의 의도에 맞는 동작 수행을 위한 주요 데이터를 추출할 수 있게 됩니다. 엔티티는 엔트리와 유의어로 구성됩니다.



### 1-1. 엔트리와 유의어  &#x20;

엔트리(Entry)는 엔티티와 동일하거나 포함된 의미를 가진 키워드라고 할 수 있습니다. 유의어는 엔트리와 동일한 의미를 가진 키워드입니다. 즉, 엔트리는 엔티티를 구성하는 요소이며, 여러 개의 유의어를 포함할 수 있습니다. &#x20;

엔티티 내부에서 엔트리와 유의어는 중복 등록이 불가합니다. 엔트리와 유의어는 의도(인텐트)를 판단하는 용도적인 측면에서 서로 비슷한 개념이나, 실질적으로 엔트리만 **** [**파라미터**](undefined-2.md#undefined) 값으로 사용할 수 있습니다.&#x20;

![엔티티가 신분증일 때](<../.gitbook/assets/엔티티 예시1 (5).png>)

![엔티티가 이용료일 때](<../.gitbook/assets/엔티티 예시2 (1).png>)

## 2. 엔티티 구조

하나의 엔티티는 다수의 엔트리를 포함하고 있고, 각각의 엔트리 안에는 다수의 유의어들이 구성되어 있습니다. 유의어는 필수는 아니지만 추가 등록 시 사용자 입력 발화에서 챗봇이 인식하는 엔티티의 범위를 넓힐 수 있습니다.     &#x20;

엔티티의 구조를 시각화하면 다음과 같습니다.

![엔티티의 구조 ](<../.gitbook/assets/엔티티의 구조 (1).png>)

## 3. 엔티티 목적

엔티티를 사용하는 목적은 다음과 같습니다.&#x20;

### 3-1. 센텐스 확장

엔티티를 활용하면 쉽고 간단하게 센텐스 확장이 가능합니다.&#x20;

아래 예시의 A 문장에서 \[이용료], \[지불], \[방법]에 대해 엔티티를 다음과 같이 구축하면, 각각의 엔트리로 구성된 B 문장들을 일일이 학습하지 않아도 챗봇이 알아들을 수 있습니다.



![센텐스 확장 예시](<../.gitbook/assets/센텐스 확장 (1).png>)

다시 말해 ‘이용료 지불 방법’은 물론, 각 엔티티의 엔트리 조합으로 발생할 수 있는 모든 문장에 대해 응답이 가능해집니다.

&#x20;         &#x20;

### 3-2. 파라미터의 활용

엔티티는 구문 분석 및 센텐스 확장을 위해 쓰일 뿐만 아니라, 파라미터(Parameter; 종속변수)로도 활용합니다.&#x20;

#### 파라미터 정의

파라미터(Parameter)란 사용자 발화 또는 API의 응답으로 얻은 값을 저장하는 변수로, 엔티티를 파라미터로 설정할 수 있습니다. 엔티티를 파라미터로 지정하는 경우, 사용자가 필수 값 없이 발화를 입력하면 '재질의 프로세스'가 발동됩니다. 파라미터를 활용하면 하나의 인텐트 안에서 여러 가지 답변을 내보낼 수 있습니다.

#### 파라미터 예시

![\[한강공원\_주차요금\]의 파라미터 예시](<../.gitbook/assets/파라미터 예시 (2).png>)

위 그림의 예시인 \[한강공원\_주차요금] 인텐트의 경우, 한강공원의 위치에 따라 주차요금이 달라집니다. 사용자가 질의를 할 때 필수 값인 한강공원의 위치를 언급하지 않는다면, 챗봇은 해당 필수 값을 전달받기 위해 '원하시는 한강공원을 선택해 주십시오.’와 같은 질의를 사용자에게 다시 건네게 됩니다.                     &#x20;

## 4. 엔티티 종류

엔티티는 사용법에 따라 쓰이는 종류들이 다양합니다. 각각의 종류에 대한 설명은 다음과 같습니다.                 &#x20;

### 4-1. 도메인 공용 엔티티

도메인 공용 엔티티는 전체 인텐트에 적용할 수 있는 엔티티를 말합니다.

![도메인 공용 엔티티  ](<../.gitbook/assets/도메인 공용 엔티티.png>)

예를 들어, \[안내]라는 엔티티는 문장별 의도에 따라 안내뿐만 아니라 '문의', '설명', '소개'의 용어를 포괄해서 쓸 수 있습니다. 이는 전체 인텐트에 공용으로 쓰일 수 있습니다. \[구내식당\_금주식단]에서 '안내'가 들어간 문장마다 센텐스가 자동으로 확장되며, 같은 도메인 안에 있는 다른 인텐트인 \[구내식당\_결제방법]에서도 위와 같이 적용될 수 있습니다.

### 4-2. 재질의용 엔티티

재질의용 엔티티는 특정 인텐트에서 재질의 시나리오 활용을 위해 사용하는 엔티티를 말합니다.

![재질의용 엔티티 ](<../.gitbook/assets/재질의용 엔티티.png>)

위 예시처럼, 화장실이 본관에 있는지, 별관에 있는지에 따라 응답이 달라지는 경우, '본관'과 '별관'을 \[화장실\_구분]이라는 엔티티로 지정해 줍니다. 사용자가 질의를 할 때 어느 화장실인지 언급하지 않는다면, \[화장실\_구분] 엔티티를 파라미터로 지정하여 질의 내 해당 값의 유무 조건에 따라 각각의 응답을 출력해 줄 수 있습니다.&#x20;

{% hint style="info" %}
**파라미터로 활용 시 엔티티 명 작성 tip**

파라미터로 활용되는 엔티티는 파라미터로서의 용도가 잘 드러나면서도 하위 엔트리를 모두 포괄할 수 있는 이름으로 작성하는 것이 좋습니다. 일반적으로 언더바(\_)를 사용하여 기본 엔티티와 구분되도록 작성합니다.

예시) \[빵\_종류], \[카페\_메뉴], \[도서\_장르], \[대중교통\_구분], \[은행\_종류], \[결제수단\_종류], \[조호물품\_상세]
{% endhint %}



### 4-3. 시스템 엔티티

시스템 엔티티는 기본적으로 제공되어 사용자가 정의하지 않아도 사용할 수 있는 엔티티를 말합니다. 본 관리도구는 다음과 같은 시스템 엔티티를 제공합니다.

| **System.날짜**  | 오늘, 내일, 1월 1일 등 다양한 날짜를 인식하는 엔티티        |   |
| -------------- | --------------------------------------- | - |
| **System.시간**  | 30분, 오전 6시 등 다양한 시간을 인식하는 엔티티           |   |
| **System.숫자**  | 1, 삼, 다섯 등 다양한 숫자를 인식하는 엔티티             |   |
| **System.any** | 문자, 숫자 등 모든 것을 인식하는 엔티티                 |   |

시스템 엔티티를 사용하게 되면 해당 엔티티의 속성에 따른 엔트리들이 자동으로 태깅되어 따로 구축하거나 지정하지 않아도 챗봇이 알아들을 수 있습니다.

![시스템 엔티티     ](<../.gitbook/assets/시스템 엔티티.png>)

예를 들어, \[System.날짜]와 \[System.숫자]를 연결 엔티티로 지정한다면, 여기에 해당하는 오늘, 내일, 어제, 요일, 숫자 등 직접 엔티티를 일일이 태깅하거나 센텐스를 구축하지 않아도 위와 같이 자동으로 태깅이 지정되면서 챗봇이 알아들을 수 있습니다. &#x20;

\[도서관\_운영시간]에서 도서관 '월요일' 운영 시간이라는 센텐스만 구축하더라도, \[System.날짜]의 속성에 따라 나머지 요일인 '화요일, 수요일, 목요일, 금요일, 토요일, 일요일' 운영 시간으로 센텐스가 자동 확장됩니다. \[System.날짜]도 위의 예시와 같이 자동으로 센텐스를 확장시킬 수 있습니다.

## 5. 엔티티 구축&#x20;

챗봇은 구축된 엔티티에 따라 사용자의 질의로부터 의도에 맞는 주요 데이터를 인식하고 추출합니다. 따라서 엔티티가 효과적으로 구축되지 않으면, 등록해야 할 학습 문장의 수는 매우 많아지고 챗봇의 분석 범위가 방대해집니다. 유사한 학습 문장의 수량을 최소화하고 사용자 발화에서 문장의 필수 성분을 인식하고 추출할 수 있도록, 같은 의미의 어휘를 엔티티로 묶어주고 관리하는 것이 중요합니다.

효과적인 엔티티를 구축할 수 있는 방법에 대한 상세한 정보는 아래의 "자세히 알아보기" 버튼을 눌러주시기 바랍니다.&#x20;

****[<mark style="color:blue;">**엔티티 구축 방법 자세히 알아보기 >**</mark> ](../tip/undefined/)                                                 &#x20;

&#x20;       &#x20;
